<?xml version="1.0" encoding="utf-8"?>
<base:BaseContainer xmlns:fx="http://ns.adobe.com/mxml/2009" 
                    xmlns:s="library://ns.adobe.com/flex/spark" 
                    xmlns:mx="library://ns.adobe.com/flex/mx" 
                    xmlns:base="components.base.*"
                    width="100%" height="100%" 
                     preinitialize="basecontainer1_preinitializeHandler(event)">
   <fx:Script>
      <![CDATA[
         import models.movement.MSquadron;
         
         import mx.collections.ListCollectionView;
         import mx.events.FlexEvent;
         
         [Bindable]
         private var squadrons: ListCollectionView;

         protected function basecontainer1_preinitializeHandler(event:FlexEvent):void
         {
            squadrons = new ListCollectionView(ML.squadrons)
            squadrons.filterFunction = function(item:Object):Boolean
            {
               return (item as MSquadron).targetLocation != null;
            }
            squadrons.refresh();
         }

      ]]>
   </fx:Script>
   <s:Label left="6" top="6" text="{RM.getString('Squadrons', 'title.squadrons')}" styleName="h2"/>
   <s:Group left="6" top="26" right="6" bottom="6">
      <base:ScrollerVariableScrollStep right="0" left="0" top="0" bottom="0" stepMultiplyer="5">
         <s:Group left="0" right="0" height="100%">
            <s:DataGroup dataProvider="{squadrons}" left="0" right="0" height="100%"
                         itemRenderer="components.squadronsscreen.IRSquadronElement">
               <s:layout>
                  <s:VerticalLayout/>
               </s:layout>
            </s:DataGroup>
         </s:Group>
      </base:ScrollerVariableScrollStep>
   </s:Group>
</base:BaseContainer>
