<?xml version="1.0"?>
<s:ItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009"
                xmlns:s="library://ns.adobe.com/flex/spark"
                height="66">
   <fx:Binding source="LocationMinimal(data)" destination="location"/>
   <fx:Script>
      <![CDATA[
      import models.location.LocationMinimal;

      import utils.assets.AssetNames;

      import utils.assets.ImagePreloader;


      [Bindable]
      private var location:LocationMinimal;

      private function getSectorLabel(loc: LocationMinimal): String {
         return loc == null ? "" : LocationMinimal.getSectorLabel(loc);
      }

      private function get fleetImage() : BitmapData {
         return ImagePreloader.getInstance().getImage(
            AssetNames.MOVEMENT_IMAGES_FOLDER + "sector_with_ships"
         );
      }
      ]]>
   </fx:Script>
   <s:states>
      <s:State name="normal" />
      <s:State name="hovered" />
      <s:State name="normalAndShowsCaret"/>
      <s:State name="hoveredAndShowsCaret"/>
   </s:states>

   <s:Rect left="0" right="0" top="0" bottom="0">
      <s:fill>
         <s:SolidColor
            color.normal="{getStyle('contentBackgroundColor')}"
            color.normalAndShowsCaret="{getStyle('contentBackgroundColor')}"
            color.hovered="{getStyle('rollOverColor')}"
            color.hoveredAndShowsCaret="{getStyle('rollOverColor')}"/>
      </s:fill>
   </s:Rect>
   <s:Group left="0" right="0" top="0" bottom="0">
      <s:layout>
         <s:HorizontalLayout paddingLeft="5" gap="5" verticalAlign="middle"/>
      </s:layout>
      <s:BitmapImage width="50" height="50" fillMode="scale" source="{fleetImage}"/>
      <s:Label text="{getSectorLabel(location)}"/>
   </s:Group>
</s:ItemRenderer>
